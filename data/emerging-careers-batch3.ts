// data/emerging-careers-batch3.ts
// B3: 6 m√©tiers prioritaires ‚Äî version normalis√©e (cl√©s enum + dur√©es/difficult√©s compatibles)

import type { FormationKey, AttenduKey } from '@/data/controlled-vocab';

export type EmergingCareerMiniProjectLycee = {
  title: string;
  description: string;
  duration: string;
  difficulty: string;
  competences: string[];
  livrables: string[];
  long_run?: boolean;
};

interface EmergingCareerBatch3Source {
  id: string;
  title: string;
  description: string;
  category: string;
  emoji?: string;
  formations: FormationKey[];
  attendus: AttenduKey[];
  prerequisLycee?: string[];
  miniProjets: EmergingCareerMiniProjectLycee[];
  pitchEleve?: string;
  parcoursupReady?: boolean;
  salaireDebut?: string;
  horizonMetier?: string;
  entreprisesCibles?: string[];
}

export interface EmergingCareerBatch3 extends EmergingCareerBatch3Source {
  formationsParcoursup: FormationKey[];
  attendusParcoursup: AttenduKey[];
  miniProjetsLycee: EmergingCareerMiniProjectLycee[];
  pitchEleve: string;
}

const RAW_EMERGING_CAREERS: EmergingCareerBatch3Source[] = 
[
  // 1) Sp√©cialiste Green IT
  {
    id: 'green-it-specialist',
    title: 'Sp√©cialiste Green IT',
    category: 'tech_durable',
    emoji: 'üå±',
    description: 'Expert en optimisation √©nerg√©tique des SI et en num√©rique responsable',
    formations: ['BUT_INFO', 'BUT_GEII', 'LICENCE_SI', 'BTS_SIO', 'CPGE_MPSI'],
    attendus: [
      'curiosite_scientifique',
      'rigueur',
      'capacite_analyse',
      'autonomie',
      'sensibilite_environnementale',
    ],
    prerequisLycee: ['NSI', 'Math√©matiques', 'Sciences de l‚Äôing√©nieur', 'SVT'],
    miniProjets: [
      {
        title: 'Audit √©nerg√©tique du site du lyc√©e',
        description: 'Analyser la conso (EcoIndex), proposer un plan d‚Äôaction chiffr√© et prioris√©',
        duration: '3 semaines',
        difficulty: 'medium',
        competences: ['analyse donn√©es', 'rapport technique', 'sensibilisation', 'mesure impact'],
        livrables: ['Rapport d‚Äôaudit', 'Pr√©sentation', 'Plan d‚Äôoptimisation'],
      },
      {
        title: 'Calculateur CO‚ÇÇ num√©rique personnel',
        description:
          'App web qui estime l‚Äôempreinte carbone des usages digitaux (streaming, cloud, RS)',
        duration: '1 mois', // source: ~6 semaines
        difficulty: 'ambitieux', // source: avanc√©
        competences: ['d√©veloppement web', 'data viz', 'UX', 'recherche'],
        livrables: ['Application', 'Documentation', '√âtude comparative'],
        long_run: true,
      },
      {
        title: 'Challenge ‚ÄúLyc√©e Z√©ro D√©chet Num√©rique‚Äù',
        description:
          '√âv√©nement de sensibilisation avec collecte, repair caf√© et ateliers reconditionnement',
        duration: '1 mois', // source: 2 mois
        difficulty: 'facile',
        competences: ['gestion projet', 'communication', 'logistique', 'animation'],
        livrables: ['Plan √©v√©nementiel', 'Bilan carbone √©vit√©', 'REX'],
        long_run: true,
      },
    ],
    pitchEleve:
      'Passionn√© par le code et engag√© pour l‚Äô√©cologie, je veux r√©duire l‚Äôempreinte du num√©rique‚Ä¶',
    parcoursupReady: true,
    salaireDebut: '32k-38k‚Ç¨',
    horizonMetier: '2025-2030',
    entreprisesCibles: ['Greenspector', 'Fruggr', 'Ademe', 'GreenTech'],
  },

  // 2) Product Builder No-Code
  {
    id: 'no-code-product-builder',
    title: 'Product Builder No-Code',
    category: 'tech_creative',
    emoji: 'üîß',
    description: 'Cr√©ateur d‚Äôapplications et d‚Äôautomatisations sans code, expert d‚Äôoutils visuels',
    formations: ['BUT_MMI', 'BUT_TC', 'BACHELOR_MARKETING_DIGITAL', 'LICENCE_INFO_COM', 'BTS_COM'],
    attendus: [
      'creativite',
      'sens_relationnel',
      'organisation',
      'autonomie',
      'esprit_entrepreneurial',
    ],
    prerequisLycee: ['SES', 'NSI (optionnel)', 'Arts', 'Langues vivantes (outils internationaux)'],
    miniProjets: [
      {
        title: 'App de gestion MDL/CVL (Bubble)',
        description: 'Application pour g√©rer √©v√©nements, budgets et votes de la Maison des Lyc√©ens',
        duration: '4 semaines',
        difficulty: 'medium',
        competences: [
          'design interface',
          'logique m√©tier',
          'base de donn√©es',
          'tests utilisateurs',
        ],
        livrables: ['App d√©ploy√©e', 'Guide utilisateur', 'Retours 50 users'],
      },
      {
        title: 'Automatisation Instagram du lyc√©e',
        description: 'Workflows Make/Zapier pour publier multi-plateformes et suivre les stats',
        duration: '2 semaines',
        difficulty: 'facile',
        competences: ['workflows', 'API', 'analytics', 'content planning'],
        livrables: ['10 automatisations', 'Dashboard', 'Kit formation com‚Äô'],
      },
      {
        title: 'Marketplace projets lyc√©ens (Glide)',
        description:
          'Plateforme d‚Äô√©change de services entre √©l√®ves (cours, covoiturage, pr√™t mat√©riel)',
        duration: '1 mois', // source: 2 mois
        difficulty: 'ambitieux',
        competences: ['UX research', 'mon√©tisation', 'mod√©ration', 'growth'],
        livrables: ['MVP 100 utilisateurs', 'Business model canvas', 'Pitch deck'],
        long_run: true,
      },
    ],
    pitchEleve:
      'J‚Äôai d√©couvert le no-code pour prototyper vite : apps Webflow/Bubble et automatisations Make‚Ä¶',
    parcoursupReady: true,
    salaireDebut: '30k-45k‚Ç¨ (ou freelance 400-800‚Ç¨/j)',
    horizonMetier: '2024-2028',
    entreprisesCibles: ['Agences no-code', 'Ottho', 'Cube', 'Start-ups', 'Freelance'],
  },

  // 3) Coordinateur d‚Äôintimit√© num√©rique (privacy/RGPD)
  {
    id: 'coordinateur-intimite-numerique',
    title: 'Coordinateur d‚Äôintimit√© num√©rique',
    category: 'ethique_tech',
    emoji: 'üîí',
    description: 'Protecteur de la vie priv√©e, expert RGPD et cybers√©curit√© individuelle',
    formations: ['BUT_INFO', 'LICENCE_DROIT', 'BUT_CJ', 'MASTER_DROIT_NUM', 'BTS_SIO'],
    attendus: ['rigueur', 'esprit_critique', 'capacite_analyse', 'expression_ecrite', 'ethique'],
    prerequisLycee: ['NSI', 'HGGSP', 'SES', 'Philosophie (terminale)'],
    miniProjets: [
      {
        title: 'Audit RGPD du lyc√©e',
        description:
          'Analyser la conformit√© des traitements (Pronote, ENT, cantine) et proposer un plan d‚Äôaction',
        duration: '1 mois',
        difficulty: 'ambitieux',
        competences: ['analyse juridique', 'audit', 'r√©daction', 'vulgarisation'],
        livrables: ['Rapport conformit√©', 'Guide RGPD lyc√©en', 'Plan de mise en ≈ìuvre'],
      },
      {
        title: 'Atelier ‚ÄúReprends le contr√¥le‚Äù',
        description:
          'Sensibiliser aux r√©glages de vie priv√©e sur r√©seaux sociaux (10 ateliers anim√©s)',
        duration: '1 mois', // source: 3 mois
        difficulty: 'medium',
        competences: ['p√©dagogie', 'veille tech', 'animation', 'cr√©ation contenu'],
        livrables: ['Kit p√©dagogique', 'Calendrier ateliers', 'Cha√Æne YouTube tutos'],
        long_run: true,
      },
      {
        title: 'Escape Game ‚ÄúData Leak‚Äù',
        description: 'Jeu immersif pour sensibiliser aux risques de fuite de donn√©es',
        duration: '1 mois', // source: 2 mois
        difficulty: 'medium',
        competences: ['game design', 'sc√©narisation', 'technique', 'tests'],
        livrables: ['Jeu 45 min', 'Guide animation', 'Feedback 200 participants'],
        long_run: true,
      },
    ],
    pitchEleve:
      'Le scandale Cambridge Analytica m‚Äôa fait comprendre l‚Äôenjeu de nos donn√©es. DPO junior CNIL‚Ä¶',
    parcoursupReady: true,
    salaireDebut: '35k-42k‚Ç¨',
    horizonMetier: '2024-2035',
    entreprisesCibles: ['CNIL', 'Cabinets conseil', 'ONG privacy', 'DPO entreprises'],
  },

  // 4) Valoriste R√©emploi Cr√©atif
  {
    id: 'valoriste-reemploi-creatif',
    title: 'Valoriste R√©emploi Cr√©atif',
    category: 'economie_circulaire',
    emoji: '‚ôªÔ∏è',
    description:
      'Transforme des objets abandonn√©s en ressources ‚Äî upcycling et √©conomie circulaire cr√©ative',
    formations: [
      'DNMADE',
      'BUT_TC',
      'LICENCE_ARTS',
      'BACHELOR_DESIGN_PRODUIT',
      'BTS_DESIGN_PRODUITS',
    ],
    attendus: [
      'creativite',
      'sens_esthetique',
      'esprit_entrepreneurial',
      'sensibilite_environnementale',
      'travail_manuel',
    ],
    prerequisLycee: ['Arts Plastiques', 'SES', 'STD2A (id√©al)', 'SVT (√©conomie circulaire)'],
    miniProjets: [
      {
        title: 'Pop-up store ‚ÄúLyc√©e Upcycl√©‚Äù',
        description: 'Transformer mobilier scolaire usag√© en objets design, vente au profit du FSE',
        duration: '1 mois', // source: 3 mois
        difficulty: 'medium',
        competences: ['design', 'fabrication', 'marketing', 'gestion'],
        livrables: ['20 pi√®ces', 'Catalogue photo', 'Bilan financier'],
        long_run: true,
      },
      {
        title: 'Repair Caf√© mensuel',
        description:
          'Organisation de sessions de r√©paration (√©lectronique/textile), communaut√© de pratique',
        duration: '1 mois', // source: ann√©e scolaire
        difficulty: 'facile',
        competences: ['organisation', 'technique', 'transmission', 'communication'],
        livrables: ['8 sessions planifi√©es', '200 objets r√©par√©s', 'Charte & tutoriels'],
        long_run: true,
      },
      {
        title: 'Collection ‚ÄúFast Fashion D√©tourn√©e‚Äù',
        description: 'Mini-collection de 5 pi√®ces √† partir de v√™tements destin√©s √† la poubelle',
        duration: '1 mois', // source: 2 mois
        difficulty: 'ambitieux',
        competences: ['couture', 'patronage', 'storytelling', 'photo'],
        livrables: ['Collection compl√®te', 'D√©fil√©', 'Dossier presse'],
        long_run: true,
      },
    ],
    pitchEleve:
      'Je fais de l‚Äôupcycling depuis 2 ans (12k‚Ç¨ sur Etsy) et anime @UpcycleGenZ (8k). Je veux prouver que durable = styl√©.',
    parcoursupReady: true,
    salaireDebut: '28k-35k‚Ç¨ (ou auto-entreprise)',
    horizonMetier: '2024-2040',
    entreprisesCibles: ['Ressourceries', 'La R√©serve des Arts', 'Emma√ºs', 'Ind√©pendant'],
  },

  // 5) Architecte Jumeaux Num√©riques
  {
    id: 'architecte-jumeaux-numeriques',
    title: 'Architecte Jumeaux Num√©riques',
    category: 'industrie_4.0',
    emoji: 'üè≠',
    description:
      'Cr√©e des r√©pliques virtuelles pour simuler et optimiser produits, robots, b√¢timents',
    formations: ['CPGE_MPSI', 'BUT_GEII', 'BUT_GMP', 'ECOLE_INGENIEUR_POSTBAC', 'LICENCE_SI'],
    attendus: [
      'rigueur',
      'abstraction',
      'curiosite_scientifique',
      'capacite_analyse',
      'vision_spatiale',
    ],
    prerequisLycee: ['Math√©matiques (sp√©)', 'Physique-Chimie', 'SI', 'NSI (compl√©mentaire)'],
    miniProjets: [
      {
        title: 'Jumeau num√©rique d‚Äôun b√¢timent du lyc√©e',
        description:
          'Mod√©lisation 3D + capteurs IoT pour simuler consommations et proposer optimisations',
        duration: '1 mois', // source: 3 mois
        difficulty: 'ambitieux',
        competences: ['mod√©lisation 3D', 'IoT', 'data analysis', 'simulation'],
        livrables: ['Mod√®le 3D', 'Dashboard temps r√©el', 'Rapport optimisations'],
        long_run: true,
      },
      {
        title: 'Digital Twin du robot du fablab',
        description:
          'Cr√©er le jumeau num√©rique du robot pour pr√©dire les pannes (maintenance pr√©dictive)',
        duration: '4 semaines', // source: 6 semaines
        difficulty: 'medium',
        competences: ['CAO', 'capteurs', 'ML', 'maintenance'],
        livrables: ['Mod√®le fonctionnel', 'Algo de pr√©diction', 'Docs'],
      },
      {
        title: 'Simulation des flux d‚Äô√©l√®ves',
        description: 'Mod√©liser les circulations pour r√©duire bousculades et temps d‚Äôattente',
        duration: '1 mois',
        difficulty: 'medium',
        competences: ['simulation', 'data collection', 'optimisation', 'visualisation'],
        livrables: ['Simulation (Unity)', 'Recommandations', 'Pr√©sentation direction'],
      },
    ],
    pitchEleve:
      'Fan de SimCity, j‚Äôai mod√©lis√© notre maison pour optimiser l‚Äôisolation. Je veux virtualiser le monde physique.',
    parcoursupReady: true,
    salaireDebut: '38k-45k‚Ç¨',
    horizonMetier: '2025-2035',
    entreprisesCibles: ['Dassault Syst√®mes', 'Siemens', 'Ansys', 'Industries 4.0'],
  },

  // 6) Pilote √âconomie des Batteries
  {
    id: 'pilote-economie-batteries',
    title: 'Pilote √âconomie des Batteries',
    category: 'energie_mobilite',
    emoji: 'üîã',
    description: 'G√®re le cycle de vie des batteries : production, seconde vie, recyclage',
    formations: ['BUT_GEII', 'BUT_CHIMIE', 'BTS_ELECTROTECH', 'LICENCE_CHIMIE', 'CPGE_PCSI'],
    attendus: [
      'rigueur',
      'curiosite_scientifique',
      'sensibilite_environnementale',
      'capacite_analyse',
      'esprit_pratique',
    ],
    prerequisLycee: [
      'Physique-Chimie (sp√©)',
      'Math√©matiques',
      'Sciences de l‚Äôing√©nieur',
      'SVT (cycles de la mati√®re)',
    ],
    miniProjets: [
      {
        title: 'Station powerbank solaire pour la cour',
        description: 'Concevoir une station USB avec batteries recycl√©es de trottinettes',
        duration: '1 mois', // source: 2 mois
        difficulty: 'medium',
        competences: ['√©lectronique', 'soudure', 'dimensionnement', 's√©curit√©'],
        livrables: ['Station fonctionnelle', 'Guide s√©curit√©', 'Calcul ROI'],
        long_run: true,
      },
      {
        title: 'Diagnostic/reconditionnement batteries VAE',
        description: 'Service de test et reconditionnement pour v√©los des profs/parents',
        duration: '1 mois', // source: 3 mois
        difficulty: 'ambitieux',
        competences: ['diagnostic', '√©lectrochimie', 'business', 'SAV'],
        livrables: ['30 batteries test√©es', 'Protocole', 'Micro-entreprise amorc√©e'],
        long_run: true,
      },
      {
        title: 'Collecte ‚ÄúPiles au Lyc√©e‚Äù',
        description: 'Mettre en place une fili√®re de collecte et valorisation des piles usag√©es',
        duration: '1 mois', // source: 1 an
        difficulty: 'facile',
        competences: ['logistique', 'sensibilisation', 'partenariats', 'reporting'],
        livrables: ['500 kg collect√©s (objectif)', 'Partenariat Corepile', 'Troph√©e √©co-lyc√©e'],
        long_run: true,
      },
    ],
    pitchEleve:
      'Je r√©cup√®re des batteries de trottinettes pour cr√©er des syst√®mes de stockage. Je veux d√©velopper la seconde vie.',
    parcoursupReady: true,
    salaireDebut: '34k-40k‚Ç¨',
    horizonMetier: '2024-2040',
    entreprisesCibles: ['SNAM', 'Veolia', 'Tesla', 'Northvolt', 'Start-ups recyclage'],
  },
];

export const EMERGING_CAREERS_BATCH3: EmergingCareerBatch3[] = RAW_EMERGING_CAREERS.map((career) => ({
  ...career,
  formationsParcoursup: [...career.formations],
  attendusParcoursup: [...career.attendus],
  miniProjetsLycee: career.miniProjets.map((mini) => ({ ...mini })),
  miniProjets: career.miniProjets.map((mini) => ({ ...mini })),
  formations: [...career.formations],
  attendus: [...career.attendus],
  prerequisLycee: career.prerequisLycee ? [...career.prerequisLycee] : undefined,
  pitchEleve: career.pitchEleve ?? '',
}));
